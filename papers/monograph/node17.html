<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002 (1.62) JA patch-1.4
patched version by:  Kenshi Muto, Debian Project.
LaTeX2HTML 2002 (1.62),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Posterior Distribution</TITLE>
<META NAME="description" CONTENT="Posterior Distribution">
<META NAME="keywords" CONTENT="kmono">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002 JA patch-1.4">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="kmono.css">

<LINK REL="next" HREF="node19.html">
<LINK REL="previous" HREF="node16.html">
<LINK REL="up" HREF="node13.html">
<LINK REL="next" HREF="node18.html">
</HEAD>

<BODY >

<A NAME="tex2html428"
  HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.gif"></A> 
<A NAME="tex2html424"
  HREF="node13.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.gif"></A> 
<A NAME="tex2html418"
  HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.gif"></A> 
<A NAME="tex2html426"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html429"
  HREF="node18.html">Neighborhood for the Posterior</A>
<B>Up:</B> <A NAME="tex2html425"
  HREF="node13.html">Markov Random Field Models</A>
<B> Previous:</B> <A NAME="tex2html419"
  HREF="node16.html">Application: Estimating Image Attribute</A>
<BR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00524000000000000000">
Posterior Distribution</A>
</H2>

<P>
Before we can tackle any of the early vision problems we 
need an expression for the posterior distribution
<IMG
 WIDTH="18" HEIGHT="16" ALIGN="MIDDLE" BORDER="0"
 SRC="img77.gif"
 ALT="$P[X=x\vert Y=y]$">; and examine whether the posterior distribution 
also has the locality property. 
Using Bayes theorem Bayes rule, we have 
<BR>
<DIV ALIGN="RIGHT">

<!-- MATH
 \begin{equation}
P[X=x|Y=y] = \frac{P[Y=y|X=x]P[X=x]}{P[Y=y]}.
\end{equation}
 -->
<TABLE WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE"><TD ALIGN="CENTER" NOWRAP><A NAME="eq:mrf_post"></A><IMG
 WIDTH="92" HEIGHT="34" BORDER="0"
 SRC="img78.gif"
 ALT="\begin{displaymath}
P[X=x\vert Y=y] = \frac{P[Y=y\vert X=x]P[X=x]}{P[Y=y]}.
\end{displaymath}"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(5)</TD></TR>
</TABLE>
<BR CLEAR="ALL"></DIV><P></P>
Since <IMG
 WIDTH="439" HEIGHT="67" ALIGN="BOTTOM" BORDER="0"
 SRC="img63.gif"
 ALT="$Y$"> is the observed image, <IMG
 WIDTH="128" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img79.gif"
 ALT="$P[Y=y]$"> is fixed. 
Moreover, <IMG
 WIDTH="47" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img57.gif"
 ALT="$P[X = x]$"> is given by the Gibbs distribution 
(<A HREF="node15.html#eq:gibbs_distribution">2.7</A>). Thus the problem now is to find <IMG
 WIDTH="535" HEIGHT="46" ALIGN="MIDDLE" BORDER="0"
 SRC="img80.gif"
 ALT="$P[Y=y\vert X=x]$">. 
Using the observation model (<A HREF="node16.html#eq:observation_model">2.8</A>) we have
<BR>
<DIV ALIGN="CENTER"><A NAME="eq:mrf_apriori"></A>
<!-- MATH
 \begin{eqnarray}
P[Y=y|X=x]&=&P[\phi(X) \odot {\cal N} = y | X=x] \nonumber \\
          &=& P[{\cal N} = \odot^{-1}(y,\phi(x))|X=x] \nonumber \\
          &=& P[{\cal N} = \odot^{-1}(y,\phi(x))]
\end{eqnarray}
 -->
<TABLE ALIGN="CENTER" CELLPADDING="0" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="74" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img81.gif"
 ALT="$\displaystyle P[Y=y\vert X=x]$"></TD>
<TD ALIGN="CENTER" NOWRAP><IMG
 WIDTH="128" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img82.gif"
 ALT="$\textstyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="128" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img83.gif"
 ALT="$\displaystyle P[\phi(X) \odot {\cal N} = y \vert X=x]$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT">&nbsp;</TD>
<TD ALIGN="CENTER" NOWRAP><IMG
 WIDTH="128" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img82.gif"
 ALT="$\textstyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img84.gif"
 ALT="$\displaystyle P[{\cal N} = \odot^{-1}(y,\phi(x))\vert X=x]$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT">&nbsp;</TD>
<TD ALIGN="CENTER" NOWRAP><IMG
 WIDTH="128" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img82.gif"
 ALT="$\textstyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="192" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img85.gif"
 ALT="$\displaystyle P[{\cal N} = \odot^{-1}(y,\phi(x))]$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(6)</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL"><P></P>
where <IMG
 WIDTH="218" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img86.gif"
 ALT="$\odot^{-1}$"> is the inverse of the operator 
<IMG
 WIDTH="15" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img67.gif"
 ALT="$\odot$">, and to obtain (<A HREF="node17.html#eq:mrf_apriori">2.10</A>) we have made use of 
the assumption that <IMG
 WIDTH="69" HEIGHT="32" ALIGN="BOTTOM" BORDER="0"
 SRC="img66.gif"
 ALT="${\cal N}$"> is statistically independent of <IMG
 WIDTH="22" HEIGHT="32" ALIGN="BOTTOM" BORDER="0"
 SRC="img17.gif"
 ALT="$X$">.

<P>
In order to have the locality property for the posterior 
distribution we need to assume that <IMG
 WIDTH="69" HEIGHT="32" ALIGN="BOTTOM" BORDER="0"
 SRC="img66.gif"
 ALT="${\cal N}$"> is also Gibbsian. We 
know that Gaussian distribution is a special case of 
Gibbsian distribution;  thus for specificity we assume that 
elements of  <IMG
 WIDTH="69" HEIGHT="32" ALIGN="BOTTOM" BORDER="0"
 SRC="img66.gif"
 ALT="${\cal N}$"> are i.i.d Gaussian distributed with mean 
<IMG
 WIDTH="164" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img87.gif"
 ALT="$\mu$"> and variance <IMG
 WIDTH="36" HEIGHT="37" ALIGN="BOTTOM" BORDER="0"
 SRC="img88.gif"
 ALT="$\sigma^{2}$">. Consequently
<BR>
<DIV ALIGN="RIGHT">

<!-- MATH
 \begin{equation}
P[Y=y|X=x] = \frac{1}{(2\pi \sigma^{2})^{\frac{MN}{2}}}
             \exp^{ \left ( \frac{\| \mu - \odot^{-1}(y,\phi(x)) \|^{2}}
                        {2 \sigma^{2} } \right )}
\end{equation}
 -->
<TABLE WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE"><TD ALIGN="CENTER" NOWRAP><A NAME="eq:priori"></A><IMG
 WIDTH="10" HEIGHT="31" BORDER="0"
 SRC="img89.gif"
 ALT="\begin{displaymath}
P[Y=y\vert X=x] = \frac{1}{(2\pi \sigma^{2})^{\frac{MN}{2}}}...
... - \odot^{-1}(y,\phi(x)) \Vert^{2}}
{2 \sigma^{2} } \right )}
\end{displaymath}"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(7)</TD></TR>
</TABLE>
<BR CLEAR="ALL"></DIV><P></P>
where <IMG
 WIDTH="23" HEIGHT="19" ALIGN="MIDDLE" BORDER="0"
 SRC="img90.gif"
 ALT="$\Vert \cdot \Vert$"> is the usual Euclidean norm. Using 
(<A HREF="node14.html#eq:mrf_model">2.1</A>) 
and (<A HREF="node17.html#eq:priori">2.11</A>) in the expression for the posterior distribution 
<IMG
 WIDTH="18" HEIGHT="16" ALIGN="MIDDLE" BORDER="0"
 SRC="img77.gif"
 ALT="$P[X=x\vert Y=y]$"> (<A HREF="node17.html#eq:mrf_post">2.9</A>) we obtain

<P>
<BR><P></P>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{displaymath}
P[X=x|Y=y] = K \exp^{ -U^{p}(x)}
\end{displaymath}
 -->

<IMG
 WIDTH="381" HEIGHT="58" BORDER="0"
 SRC="img91.gif"
 ALT="\begin{displaymath}
P[X=x\vert Y=y] = K \exp^{ -U^{p}(x)}
\end{displaymath}">
</DIV>
<BR CLEAR="ALL">
<P></P>
where the posterior energy function

<P>
<BR>
<DIV ALIGN="RIGHT">

<!-- MATH
 \begin{equation}
U^{p}(x) = \sum_{ c \in {\cal C}} V_{c}(x)
           + \frac{\| \mu - \odot^{-1}(y,\phi(x)) \|^{2}}
                        {2 \sigma^{2} }
\end{equation}
 -->
<TABLE WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE"><TD ALIGN="CENTER" NOWRAP><IMG
 WIDTH="26" HEIGHT="34" BORDER="0"
 SRC="img92.gif"
 ALT="\begin{displaymath}
U^{p}(x) = \sum_{ c \in {\cal C}} V_{c}(x)
+ \frac{\Vert \mu - \odot^{-1}(y,\phi(x)) \Vert^{2}}
{2 \sigma^{2} }
\end{displaymath}"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(8)</TD></TR>
</TABLE>
<BR CLEAR="ALL"></DIV><P></P>
and <BR><P></P>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{displaymath}
K = \frac{(2\pi \sigma^{2})^{-MN/2}}{Z P[Y=y]}
\end{displaymath}
 -->

<IMG
 WIDTH="237" HEIGHT="30" BORDER="0"
 SRC="img93.gif"
 ALT="\begin{displaymath}K = \frac{(2\pi \sigma^{2})^{-MN/2}}{Z P[Y=y]}\end{displaymath}">
</DIV>
<BR CLEAR="ALL">
<P></P>
Thus we see that computing the MAP estimate is equivalent to 
minimizing the posterior energy function, namely,
<BR>
<DIV ALIGN="RIGHT">

<!-- MATH
 \begin{equation}
\max_{x} P[X=x|Y=y] \;\; \Longleftrightarrow \;\;
  \min_{x} U^{p}(x)
\end{equation}
 -->
<TABLE WIDTH="100%" ALIGN="CENTER">
<TR VALIGN="MIDDLE"><TD ALIGN="CENTER" NOWRAP><A NAME="eq:mrf_min"></A><IMG
 WIDTH="309" HEIGHT="55" BORDER="0"
 SRC="img94.gif"
 ALT="\begin{displaymath}
\max_{x} P[X=x\vert Y=y] \;\; \Longleftrightarrow \;\;
\min_{x} U^{p}(x)
\end{displaymath}"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
(9)</TD></TR>
</TABLE>
<BR CLEAR="ALL"></DIV><P></P>

<P>
To estimate other early vision 
attributes, we need to appropriately modify the potential 
function <IMG
 WIDTH="92" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img44.gif"
 ALT="$V_{c}(x)$">, and in some cases incorporate an 
additional field corresponding to the early vision attribute 
like, edges, segments, etc. In fact the <EM>art</EM> lies in 
selecting a <EM>good</EM> potential function.

<P>
<P>
<DIV><B>Note  2.5</B> &nbsp; 
For the linear case with additive noise the 
posterior energy function simplifies to
<BR><P></P>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{displaymath}
U^{p}(x) = \sum_{ c \in {\cal C}} V_{c}(x)
           + \frac{\| \mu - (y - Hx) \|^{2}}
                        {2 \sigma^{2} }
\end{displaymath}
 -->

<IMG
 WIDTH="142" HEIGHT="51" BORDER="0"
 SRC="img95.gif"
 ALT="\begin{displaymath}
U^{p}(x) = \sum_{ c \in {\cal C}} V_{c}(x)
+ \frac{\Vert \mu - (y - Hx) \Vert^{2}}
{2 \sigma^{2} }
\end{displaymath}">
</DIV>
<BR CLEAR="ALL">
<P></P></DIV><P></P>

<P>
<BR> <HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html430"
  HREF="node18.html">Neighborhood for the Posterior Distribution</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<A NAME="tex2html428"
  HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.gif"></A> 
<A NAME="tex2html424"
  HREF="node13.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.gif"></A> 
<A NAME="tex2html418"
  HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.gif"></A> 
<A NAME="tex2html426"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html429"
  HREF="node18.html">Neighborhood for the Posterior</A>
<B>Up:</B> <A NAME="tex2html425"
  HREF="node13.html">Markov Random Field Models</A>
<B> Previous:</B> <A NAME="tex2html419"
  HREF="node16.html">Application: Estimating Image Attribute</A>

<!--End of Navigation Panel-->
<ADDRESS>
<I> <BR>
2004-02-10</I>
</ADDRESS>
</BODY>
</HTML>
